:root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --line:#e5e7eb;
      --brand:#1a73e8;
      --brand2:#0b57d0;
      --good:#10b981;
      --warn:#f59e0b;
      --danger:#ef4444;
      --star:#fbbf24;
      --starOff:#cbd5e1;
      --shadow: 0 10px 25px rgba(15, 23, 42, .07);
      --shadow2: 0 18px 60px rgba(2,6,23,.14);
      --safeT: env(safe-area-inset-top);
      --safeB: env(safe-area-inset-bottom);
      --safeL: env(safe-area-inset-left);
      --safeR: env(safe-area-inset-right);
      --navH: 72px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    html{overflow-x:clip}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:var(--bg);
      color:var(--text);
      -webkit-tap-highlight-color: transparent;
      overflow-x: hidden;
    }
    a{color:inherit;text-decoration:none}
    button, input, textarea, select{font:inherit}

    .wrap{
      max-width: 1120px;
      margin: 0 auto;
      padding: 14px;
      padding-left: calc(14px + var(--safeL));
      padding-right: calc(14px + var(--safeR));
    }

    /* ===== Header ===== */
    .header{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(246,247,251,.86);
      backdrop-filter: none;
      border-bottom: 1px solid rgba(229,231,235,.7);
    }
    .header-inner{
      max-width: 1120px;
      margin: 0 auto;
      padding: 10px 14px 10px;
      padding-top: calc(10px + var(--safeT));
      padding-left: calc(14px + var(--safeL));
      padding-right: calc(14px + var(--safeR));
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    .topRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      min-width:0;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .brand .mark{
      width:34px;height:34px;border-radius:12px;
      background: linear-gradient(135deg,var(--brand),var(--brand2));
      display:grid;place-items:center;
      box-shadow: 0 10px 20px rgba(26,115,232,.2);
      flex:0 0 auto;
    }
    .brand .title{
      font-weight:1000;
      letter-spacing:.2px;
      font-size:15px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .auth{display:flex;align-items:center;gap:8px;flex:0 0 auto;}
    .btnAuth{
      height:38px;border-radius:999px;padding:0 12px;
      border:1px solid var(--line);background:var(--card);
      color:var(--text);font-size:13px;font-weight:900;
      cursor:pointer;min-height:44px;
    }
    .btnAuth.primary{
      background:var(--brand);border-color:transparent;color:#fff;
      box-shadow: 0 10px 18px rgba(26,115,232,.18);
    }
    .btnAuth:active{transform:scale(.99)}

    /* avatar-only in header */
    .avatarBtn{
      width:40px;height:40px;border-radius:999px;
      border:1px solid var(--line);background:#fff;
      display:none;place-items:center;cursor:pointer;padding:0;
            box-shadow: 0 6px 14px rgba(15,23,42,.06);
      overflow:hidden;
    }
    .avatarBtn img{width:100%;height:100%;object-fit:cover;display:block;}
    .avatarBtn:active{transform:scale(.99)}

    /* Search + tabs (hidden on profile) */
    .headerExtras{display:grid;gap:10px;}
    .headerExtras.hidden{display:none;}

    .searchBar{
      display:flex;align-items:center;gap:10px;
      padding:10px 12px;border-radius:999px;
      border:1px solid var(--line);
      background:var(--card);
      box-shadow: 0 10px 22px rgba(15,23,42,.06);
    }
    .searchBar svg{flex:0 0 auto;opacity:.75}
    .searchBar input{
      width:100%;
      border:none;outline:none;background:transparent;
      font-size:16px; /* iOS anti-zoom */
    }
    .pill{font-size:12px;font-weight:900;color:var(--muted);white-space:nowrap;}

    .tabs{
      display:flex;gap:14px;align-items:flex-end;overflow:auto;scrollbar-width:none;
    }
    .tabs::-webkit-scrollbar{display:none}
    .tab{
      position:relative;padding:8px 2px;
      font-weight:1000;color:var(--muted);
      cursor:pointer;user-select:none;white-space:nowrap;
    }
    .tab.active{color:var(--text)}
    .tab.active:after{
      content:"";position:absolute;left:0;right:0;bottom:0;
      height:3px;border-radius:999px;background:var(--brand);
    }

    /* ===== Bottom nav ===== */
    .bottomNav{
      position: fixed;
      left: 0; right: 0; bottom: 0;
      z-index: 40;
      background: rgba(246,247,251,.90);
      backdrop-filter: none;
      border-top: 1px solid rgba(229,231,235,.75);
      padding-bottom: var(--safeB);
      transition: transform .18s ease, opacity .18s ease;
    }
    body.kbd .bottomNav{
      transform: translateY(120%);
      opacity: 0;
      pointer-events: none;
    }
    .bottomNav-inner{
      max-width: 1120px;margin: 0 auto;
      padding: 8px 14px;
      padding-left: calc(14px + var(--safeL));
      padding-right: calc(14px + var(--safeR));
      display:grid;grid-template-columns: repeat(3, 1fr);
      gap: 6px;
      min-height: var(--navH);
    }
    .navBtn{
      border:none;background:transparent;border-radius: 14px;
      padding: 8px 6px;cursor:pointer;
      display:flex;flex-direction:column;gap:4px;
      align-items:center;justify-content:center;
      color: var(--muted);
      font-weight:900;font-size:11px;
      min-height: 44px;
    }
    .navBtn.active{color: var(--brand2);background: rgba(26,115,232,.10);}
    .navBtn:active{transform:scale(.99)}
    .navBtn svg{width:20px;height:20px}

    /* ===== Content ===== */
    .content{
      min-height: calc(100vh - 210px);
      padding-bottom: calc(var(--navH) + 20px + var(--safeB));
    }
    .state{
      padding: 14px;border: 1px dashed rgba(100,116,139,.35);
      border-radius: 16px;color: var(--muted);
      background: rgba(255,255,255,.6);text-align:center;
    }

    .section{ margin-top: 14px; }
    .sectionHead{
      display:flex;align-items:center;justify-content:flex-start;
      gap:10px;margin-bottom: 10px;
    }
    .sectionTitle{ font-weight:1000;font-size:15px; }
    .sectionLink{
      border:none;background:transparent;
      display:inline-flex;align-items:center;gap:6px;
      padding: 6px 6px;border-radius: 14px;
      cursor:pointer;min-height:44px;
    }
    .sectionLink:hover{background: rgba(2,6,23,.03)}
    .chevMini{
      opacity:.65;display:inline-flex;align-items:center;
      font-size:16px;line-height:1;
      transform: translateY(1px);
    }
    .chevMini svg{width:16px;height:16px}

    .linkBtn{
      border:none;background:transparent;cursor:pointer;
      font-weight:1000;font-size:13px;color:var(--brand2);
      padding: 6px 10px;border-radius: 999px;min-height:44px;
    }
    .linkBtn:hover{background: rgba(26,115,232,.08)}
    .linkBtn:active{transform:scale(.99)}

    

    .arrowBtn{
      width:32px;height:32px;border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.92);
      cursor:pointer;
      display:grid;place-items:center;
            box-shadow: 0 6px 14px rgba(15,23,42,.06);
      padding:0;
      flex:0 0 auto;
    }
    .arrowBtn svg{width:20px;height:20px}
    .arrowBtn:hover{background: rgba(26,115,232,.06)}
    .arrowBtn:active{transform:scale(.99)}

    .btn.dangerSolid{
      background: var(--danger);
      border-color: transparent;
      color: #fff;
      box-shadow: 0 10px 18px rgba(239,68,68,.18);
    }
/* Banner carousel */
    .bannerRow{
      display:flex;gap:12px;overflow:auto;
      -webkit-overflow-scrolling: touch;
      padding-bottom: 8px;
      scroll-snap-type: x proximity;
    }
    .banner{
      scroll-snap-align:start;
      flex:0 0 auto;
      width: min(560px, 100%);
      border-radius: 22px;
      border: 1px solid rgba(229,231,235,.8);
      background: #fff;
      box-shadow: var(--shadow2);
      overflow:hidden;
      cursor:pointer;
      position:relative;
      min-height: 168px;
    }
    .banner:active{transform:scale(.995)}
    .bannerBg{
      position:absolute;inset:0;
      background: linear-gradient(135deg, rgba(26,115,232,.14), rgba(11,87,208,.06));
    }
    .bannerImg{
      position:absolute;inset:0;
      width:100%;height:100%;
      object-fit:cover;
      opacity:.18;
      filter: blur(1px);
      transform: scale(1.05);
    }
    .bannerInner{
      position:relative;
      padding: 14px;
      display:flex;
      gap: 12px;
      align-items:center;
    }
    .bannerIco{
      width:64px;height:64px;border-radius: 18px;
      border:1px solid rgba(229,231,235,.9);
      background:#fff;
      object-fit:cover;
      flex:0 0 auto;
      box-shadow: 0 12px 22px rgba(2,6,23,.12);
    }
    .bannerMain{min-width:0;flex:1}
    .bannerTitle{
      margin:0;
      font-weight:1000;
      font-size: 18px;
      line-height:1.15;
      letter-spacing:.1px;
      overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
    }
    .bannerDesc{
      margin-top:6px;
      color: var(--muted);
      font-size: 13px;
      line-height:1.35;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }
    .bannerMeta{
      margin-top:10px;
      display:flex;gap:10px;align-items:center;flex-wrap:wrap;
      color: var(--muted);
      font-size:12px;
    }
    .bannerCta{
      height:40px;border-radius:999px;
      padding:0 14px;border:1px solid rgba(229,231,235,.9);
      background: rgba(255,255,255,.92);
      font-weight:1000;
      cursor:pointer;
      min-height:44px;
    }
    .bannerCta:active{transform:scale(.99)}

    .hscroll{
      display:flex;gap: 10px;overflow:auto;
      padding-bottom: 6px;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x proximity;
    }
    .tile{
      scroll-snap-align: start;
      min-width: 220px;max-width: 220px;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 12px;
      cursor:pointer;
      display:flex;gap: 10px;align-items:flex-start;
    }
    .tile:active{transform:scale(.995)}
    .ico{
      width: 56px; height:56px;border-radius: 16px;
      border: 1px solid var(--line);
      object-fit:cover;background:#fff;flex:0 0 auto;
    }
    .tileMain{min-width:0; flex:1}
    .tileName{
      font-weight:1000;font-size:14px;line-height:1.25;
      display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;
      overflow:hidden;margin:0;
    }
    .tileMeta{
      margin-top:6px;display:flex;flex-wrap:wrap;
      gap: 8px;align-items:center;
      color: var(--muted);font-size:12px;
    }

    /* Vertical list (Top/search) */
    .vlist{display:grid;grid-template-columns: 1fr;gap: 10px;}
    .rowCard{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 12px;
      cursor:pointer;
      display:grid;
      grid-template-columns: 56px minmax(0, 1fr) auto;
      gap: 12px;
      align-items:center;
    }
    .rowMain{min-width:0; flex:1}
    .rowTitle{
      display:flex;justify-content:space-between;
      gap:10px;align-items:flex-start;
    }
    .rowName{
      font-weight:1000;font-size:15px;margin:0;
      overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
    }
    .badge{
      font-size:11px;padding:4px 8px;border-radius: 999px;
      border: 1px solid var(--line);
      background:#fff;color: var(--muted);
      font-weight:1000;white-space:nowrap;
    }
    .badge.new{border-color:rgba(16,185,129,.4); background:rgba(16,185,129,.08); color:var(--good);}
    .badge.mod{border-color:rgba(245,158,11,.45); background:rgba(245,158,11,.10); color:var(--warn);}
.adminBadge{
      font-size:11px;
      padding:4px 8px;
      border-radius:999px;
      border: 1px solid rgba(26,115,232,.45);
      background: rgba(26,115,232,.10);
      color: var(--brand2);
      font-weight:1000;
      white-space:nowrap;
      line-height:1;
    }
    .adminBadge.small{
      font-size:10px;
      padding:3px 7px;
    }
    .rowDesc{
      margin-top:6px;color: var(--muted);
      font-size:13px;line-height:1.4;
      display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;
      overflow:hidden;
    }
    .rowMeta{
      margin-top:8px;display:flex;flex-wrap:wrap;
      gap: 10px 12px;align-items:center;
      color: var(--muted);font-size:12px;
    }
    .btnInstall{
      height: 40px;border-radius: 999px;padding: 0 14px;
      border: 1px solid var(--line);
      background: var(--brand);color:#fff;
      font-weight:1000;cursor:pointer;
      box-shadow: 0 10px 18px rgba(26,115,232,.16);
      white-space:nowrap;flex:0 0 auto;
      min-height: 44px;
      display:inline-flex;align-items:center;gap:8px;
    }
    .btnInstall:active{transform:scale(.99)}
    .btnInstall svg{width:18px;height:18px}

    /* Stars */
    .stars{display:inline-flex;gap:2px;align-items:center;transform: translateY(1px)}
    .stars svg{width:13px;height:13px}
    .on{fill: var(--star)}
    .off{fill: var(--starOff)}
    .ratingNum{font-weight:1000;color: var(--text)}

    /* ===== Modal ===== */
    .overlay{
      position:fixed; inset:0;
      background: rgba(2,6,23,.56);
      display:none;z-index: 200;
      padding: 14px;
      padding-bottom: calc(14px + var(--safeB));
      padding-left: calc(14px + var(--safeL));
      padding-right: calc(14px + var(--safeR));
      overflow:auto;-webkit-overflow-scrolling: touch;
          opacity: 0;
      pointer-events: none;
      transition: opacity .12s ease;
    }
    .overlay.show{display:block; opacity:1; pointer-events:auto}
        .overlay.dialog{z-index: 300;}
.modal{
      width: min(960px, 100%);
      margin: 32px auto;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 22px;
      box-shadow: 0 18px 48px rgba(2,6,23,.28);
      overflow:hidden;
    }
    .modalTop{
      padding: 12px 14px;border-bottom: 1px solid var(--line);
      display:flex;justify-content:space-between;align-items:center;
      gap:10px;
    }
    .modalTitle{
      font-weight:1000;font-size:14px;color: var(--muted);
      overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
      min-width:0;
    }
    .xbtn{
      width: 42px; height: 42px;border-radius: 14px;
      border: 1px solid var(--line);background:#fff;
      cursor:pointer;display:grid;place-items:center;
      box-shadow: 0 10px 20px rgba(15,23,42,.06);
      min-height:44px;
    }
    .xbtn:active{transform:scale(.99)}
    .modalBody{
      padding: 14px;display:grid;gap: 14px;
      max-height: calc(100dvh - 140px);
      overflow:auto;-webkit-overflow-scrolling: touch;
    }
    @supports not (height: 100dvh){
      .modalBody{max-height: calc(100vh - 140px)}
    }

    .hero{ display:flex; gap: 14px; align-items:flex-start; }
    .hero .ico{ width: 86px; height: 86px; border-radius: 22px; }
    .hero h2{ margin:0; font-size: 20px; line-height:1.15; font-weight: 1000; }
    .heroSmall{
      margin-top: 8px;color: var(--muted);
      display:flex;flex-wrap:wrap;gap: 10px;align-items:center;
      font-size: 13px;
    }
    .actions{
      display:flex;gap: 10px;flex-wrap:wrap;align-items:center;
      margin-top: 12px;
    }
    .btn{
      height: 42px;padding: 0 14px;border-radius: 999px;
      border: 1px solid var(--line);background:#fff;
      cursor:pointer;font-weight: 1000;font-size: 13px;
      min-height:44px;
      display:inline-flex;align-items:center;gap:8px;
    }

    .selectPill{
      height: 40px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: #fff;
      padding: 0 36px 0 14px;
      cursor: pointer;
      font-weight: 1000;
      font-size: 13px;
      color: var(--text);
      outline: none;
      appearance: none;
      -webkit-appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none'%3E%3Cpath d='M6 8l4 4 4-4' stroke='%230f172a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px 16px;
    }
    .selectPill:focus{
      border-color: rgba(26,115,232,.45);
      box-shadow: 0 0 0 4px rgba(26,115,232,.10);
    }

    .btn svg{width:18px;height:18px}
    .btn.primary{
      background: var(--brand);border-color: transparent;color:#fff;
      box-shadow: 0 10px 18px rgba(26,115,232,.18);
      text-decoration:none;
    }
    .btn:active{transform:scale(.99)}
    .btn.ghost{
      background: rgba(255,255,255,.92);
    }
    .btn.wl.on{
      border-color: rgba(26,115,232,.45);
      box-shadow: 0 0 0 4px rgba(26,115,232,.10);
    }

    .kv{
      display:grid;grid-template-columns: repeat(2, minmax(0,1fr));
      gap: 10px;
    }
    .kv .box{
      border: 1px solid var(--line);
      border-radius: 16px;padding: 10px 12px;
      background: rgba(255,255,255,.8);
    }
    .kv .k{color:var(--muted); font-size:12px}
    .kv .v{margin-top:4px; font-weight:1000; font-size:14px}

    .panel{
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 12px;
      background: rgba(255,255,255,.8);
    }
    .panelHead{
      display:flex;align-items:center;justify-content:space-between;
      gap: 10px;margin-bottom: 10px;
    }
    .panelHead h3{ margin:0;font-size: 14px;font-weight: 1000; }
    .panel p{
      margin:0;color: var(--muted);
      font-size: 13px;line-height: 1.55;
      white-space: pre-wrap;
    }

    .shots{
      display:flex;gap: 10px;overflow:auto;padding-bottom: 6px;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x proximity;
    }
    .shot{
      width: 190px; height: 118px;border-radius: 16px;
      border: 1px solid var(--line);
      object-fit: cover;background:#fff;
      scroll-snap-align: start;flex:0 0 auto;
    }

    /* Reviews */
    .reviewSummary{
      display:flex;align-items:center;gap:8px;flex-wrap:wrap;
      color: var(--muted);font-size: 13px;
    }
    .reviewGrid{
      display:grid;grid-template-columns: 1fr;
      gap: 12px;margin-top: 10px;
    }
    .reviewStats{
      display:grid;grid-template-columns: 120px 1fr;
      gap: 12px;align-items:center;
    }
    .bigRating{
      display:flex;flex-direction:column;gap: 6px;align-items:flex-start;
    }
    .bigRating .num{font-size:36px;font-weight:1000;line-height:1}
    .bars{display:grid;gap: 6px;}
    .barRow{
      display:grid;grid-template-columns: 20px 1fr 34px;
      gap: 8px;align-items:center;
      color: var(--muted);font-size: 12px;
      padding: 6px 8px;
      border-radius: 12px;
      cursor: pointer;
      user-select:none;
    }
    .barRow:hover{ background: rgba(2,6,23,.03); }
    .barRow.active{
      background: rgba(26,115,232,.10);
      color: var(--brand2);
    }
    .bar{
      height: 8px;border-radius: 999px;
      background: rgba(100,116,139,.18);
      overflow:hidden;position:relative;
    }
    .bar > span{
      position:absolute;left:0;top:0;bottom:0;
      width: 0%;
      background: var(--brand);
      border-radius: 999px;
      transition: width .18s ease;
    }

    /* My review compact card */
    .myReviewCard{
      border: 1px solid rgba(229,231,235,.9);
      border-radius: 16px;
      background: rgba(255,255,255,.92);
      padding: 10px 12px;
    }
    .myReviewTop{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .myReviewTop .t{
      font-weight:1000;font-size:13px;color:var(--text);
    }
    .iconBtn{
      width: 42px;height:42px;border-radius: 14px;
      border: 1px solid rgba(229,231,235,.9);
      background:#fff;
      display:grid;place-items:center;
      cursor:pointer;
      min-height:44px;
    }
    .iconBtn:active{transform:scale(.99)}
    .iconBtn svg{width:18px;height:18px}
    .myReviewMeta{margin-top:6px;color:var(--muted);font-size:12px;display:flex;gap:10px;flex-wrap:wrap;align-items:center;}
    .myReviewText{margin-top:6px;color:var(--text);font-size:13px;line-height:1.45;white-space:pre-wrap;word-break:break-word;}
    .myReviewEmpty{margin-top:6px;color:var(--muted);font-size:13px;line-height:1.45;}
    .editor{display:none;margin-top:10px;}
    .editor.show{display:block;}

    .rateStars{
      display:flex;gap: 6px;flex-wrap:wrap;align-items:center;
    }
    .starBtn{
      border:none;background:transparent;padding: 6px;border-radius: 14px;
      cursor:pointer;touch-action: manipulation;min-height:44px;
    }
    .starBtn:hover{background: rgba(26,115,232,.08)}
    .starBtn svg{width: 30px; height: 30px}
    .hint{color: var(--muted); font-size: 12px}
    .hidden{display:none !important;}
    textarea{
      width:100%;min-height: 92px;resize: vertical;
      border-radius: 16px;border: 1px solid var(--line);
      padding: 10px 12px;outline:none;font-size: 14px;background:#fff;
    }
    textarea:focus{
      border-color: rgba(26,115,232,.35);
      box-shadow: 0 0 0 4px rgba(26,115,232,.12);
    }
    .danger{color: var(--danger); font-weight:1000}

    .reviewsList{
  display:flex;
  flex-direction:column;
  gap: 10px;
  margin-top: 10px;
}
.reviewsSentinelWrap{ padding: 6px 0 20px; }
.reviewsSentinel{ text-align:center; }

.reviewItem{
  background:#fff;
  border: 1px solid var(--line);
  border-radius: 16px;
  padding: 10px 12px;
  display:flex;
  gap: 10px;
  align-items:flex-start;

  /* performance: skip offscreen rendering on supporting browsers */
  content-visibility: auto;
  contain: layout paint style;
  contain-intrinsic-size: 160px;
}

.reviewItem.pinned{
  border-color: rgba(99,102,241,.35);
  box-shadow: 0 2px 12px rgba(99,102,241,.06);
}
    .replySection{ margin-top: 10px; }
    .replyActions{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 6px; }
    .replyBtn{
      border: 1px solid var(--line);
      background:#fff;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 12px;
      cursor:pointer;
    }
    .replyBtn:disabled{opacity:.5;cursor:not-allowed}
    .replyEditor{
      margin-top: 10px;
      border: 1px dashed var(--line);
      border-radius: 14px;
      padding: 10px;
      background: rgba(2,6,23,.02);
    }
    .replyEditor textarea{
      width: 100%;
      min-height: 70px;
      resize: vertical;
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 10px 12px;
      font: inherit;
      outline: none;
    }
    .replyEditor .row{ display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap; margin-top: 8px; }
    .replyList{ display:flex; flex-direction:column; gap: 8px; margin-top: 10px; }
    .replyItem{
      border: 1px solid var(--line);
      background: #fff;
      border-radius: 14px;
      padding: 10px 12px;
    }
    .replyTop{ display:flex; justify-content:space-between; gap:10px; align-items:center; }
    .replyName{ font-weight: 1000; font-size: 12px; max-width: 260px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
    .replyText{ margin-top: 6px; color: var(--text); font-size: 13px; white-space: pre-wrap; word-break: break-word; }

    .rAvatar{
      width: 36px; height: 36px;border-radius: 999px;
      border: 1px solid var(--line);
      object-fit: cover;background:#fff;flex:0 0 auto;
    }
    .rMain{min-width:0; flex:1}
    .rTop{
      display:flex;align-items:center;justify-content:space-between;
      gap: 8px;flex-wrap:wrap;
    }
    .rName{
      font-weight:1000;
      font-size: 13px;
      max-width: 260px;
      display:flex;
      align-items:center;
      gap:6px;
      min-width:0;
    }
    .rNameText{
      min-width:0;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    .rTime{color: var(--muted);font-size: 12px;white-space:nowrap;}
    .rComment{
      margin-top: 6px;font-size: 13px;line-height: 1.45;
      color: var(--text);white-space: pre-wrap;word-break: break-word;
    }
    .voteRow{
      margin-top: 8px;
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      color: var(--muted);
      font-size: 12px;
    }
    .voteBtn{
      height: 36px;
      border-radius: 999px;
      padding: 0 10px;
      border: 1px solid rgba(229,231,235,.95);
      background: rgba(255,255,255,.92);
      display:inline-flex;
      align-items:center;
      gap: 6px;
      cursor:pointer;
      font-weight:1000;
      min-height:44px;
    }
    .voteBtn.active{
      border-color: rgba(26,115,232,.45);
      box-shadow: 0 0 0 4px rgba(26,115,232,.10);
      color: var(--brand2);
    }
    .voteBtn svg{width:16px;height:16px}
    .voteBtn:active{transform:scale(.99)}
    .filterPill{
      font-size:12px;font-weight:1000;
      color: var(--brand2);
      background: rgba(26,115,232,.10);
      border: 1px solid rgba(26,115,232,.18);
      padding: 6px 10px;
      border-radius: 999px;
      display:none;
    }
    .filterPill.show{display:inline-flex}

    /* ===== Profile modern (no reviews list) ===== */
    .profileShell{display:grid;gap:14px;}
    .profileHero{
      border-radius: 22px;
      overflow:hidden;
      border: 1px solid rgba(229,231,235,.85);
      box-shadow: var(--shadow2);
      background:#fff;
    }
    .profileCover{
      height: 120px;
      background: radial-gradient(1200px 240px at 20% 0%, rgba(26,115,232,.45), rgba(11,87,208,.12) 55%, rgba(15,23,42,.02) 100%),
                  linear-gradient(135deg, rgba(26,115,232,.20), rgba(16,185,129,.08));
      position:relative;
    }
    .profileBody{
      padding: 14px;
      padding-top: 0;
      position:relative;
    }
    .profileAvatar{
      width: 92px;height:92px;border-radius: 999px;
      border: 4px solid #fff;
      background:#fff;
      box-shadow: 0 14px 30px rgba(2,6,23,.18);
      object-fit:cover;
      position:absolute;
      top:-46px;left: 14px;
    }
    .profileHeaderRow{
      padding-left: 110px;
      padding-top: 10px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      min-width:0;
    }
    .pName{
      margin:0;
      font-size:18px;
      font-weight:1000;
      letter-spacing:.1px;
      display:flex;
      align-items:center;
      gap:8px;
      min-width:0;
    }
    .pNameText{
      min-width:0;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    .pEmail{margin-top:4px;color:var(--muted);font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
      .profileHeaderRow .pName{justify-content:center;}
    .profileActions{
      display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;
      padding-top: 4px;
    }
    .ghostBtn{
      height: 40px;border-radius: 999px;
      padding: 0 14px;border: 1px solid rgba(229,231,235,.95);
      background: rgba(255,255,255,.92);
      font-weight: 1000;
      cursor:pointer;
      min-height:44px;
    }
    .ghostBtn:active{transform:scale(.99)}

    .profileStats{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(0,1fr));
      gap: 10px;
    }
    .stat{
      border: 1px solid rgba(229,231,235,.9);
      border-radius: 16px;
      padding: 10px 12px;
      background: rgba(255,255,255,.9);
    }
    .stat .k{color:var(--muted);font-size:12px;}
    .stat .v{margin-top:4px;font-weight:1000;font-size:16px;}

    .stat .v.copyable{
      display:inline-block;
      cursor:pointer;
      user-select:none;
      text-decoration: underline dotted rgba(100,116,139,.55);
      text-underline-offset: 3px;
    }
    .stat .v.copyable:active{transform:scale(.99);}

    .cardList{
      border: 1px solid rgba(229,231,235,.85);
      border-radius: 22px;
      background:#fff;
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .cardListHead{
      padding: 12px 14px;
      border-bottom: 1px solid rgba(229,231,235,.8);
      display:flex;align-items:center;justify-content:space-between;gap:10px;
    }
    .cardListHead h3{margin:0;font-size:14px;font-weight:1000;color:var(--text);}
    .cardListBody{padding: 12px 14px;}
    .settingRow{
      display:flex;align-items:center;justify-content:flex-start;gap:12px;
      padding: 12px 6px;
      border-radius: 16px;
      cursor:pointer;
    }
    .settingRow:hover{background: rgba(2,6,23,.03)}
    .settingLeft{display:flex;align-items:center;gap:10px;min-width:0;}
    .settingIcon{
      width:40px;height:40px;border-radius: 14px;
      border: 1px solid rgba(229,231,235,.9);
      display:grid;place-items:center;
      background: rgba(255,255,255,.92);
      box-shadow: 0 10px 20px rgba(2,6,23,.06);
      flex:0 0 auto;
    }
    .settingText{min-width:0;}
    .settingTitle{font-weight:1000;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
    .settingDesc{margin-top:2px;color:var(--muted);font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
    .chev{display:none}

    
    /* ===== Performance: low-end friendly ===== */
    .section{content-visibility:auto; contain: content; contain-intrinsic-size: 420px;}
    @media (prefers-reduced-motion: reduce){
      *{animation:none !important; transition:none !important; scroll-behavior:auto !important;}
    }
/* Desktop tweaks */
    @media (min-width: 860px){
      .kv{grid-template-columns: repeat(4, minmax(0,1fr));}
      .reviewGrid{grid-template-columns: 1fr 1fr;}
      .banner{width: 560px;}
    }

    /* Mobile tweaks */
    @media (max-width: 560px){
      .overlay{display:none}
      .overlay.show{display:flex;align-items:flex-end; opacity:1; pointer-events:auto;}
      .modal{margin:0;width:100%;border-radius: 22px 22px 0 0;}
      .modalBody{max-height: calc(100dvh - 90px);}
      .tile{min-width: 200px; max-width: 200px;}
      .hero{flex-direction: column;}
      .hero .ico{width: 74px; height: 74px; border-radius: 18px;}

      /* profile centered on mobile */
      .profileAvatar{
        left: 50%;
        transform: translateX(-50%);
      }
      .profileHeaderRow{
        padding-left: 0;
        padding-top: 56px;
        text-align:center;
        flex-direction:column;
        align-items:center;
        justify-content:center;
      }
      .profileActions{justify-content:center;}
      .profileStats{grid-template-columns: repeat(2, minmax(0,1fr));}

      :root{ --navH: 64px; }

      /* prevent right overflow on very narrow screens */
      .sectionHead{flex-wrap: wrap; gap: 10px;}
      .bannerInner{flex-wrap: wrap; gap: 10px;}
      .bannerCta{width: 100%; justify-content:center;}

      /* Row card: move action button to next line so it never goes out of screen */
      .rowCard{
        grid-template-columns: 52px minmax(0,1fr);
        align-items: start;
      }
      .rowCard > .ico{width:52px;height:52px;border-radius:14px;}
      .rowMain{padding-top:2px;}
      .rowCard .btnInstall{
        grid-column: 1 / -1;
        width: 100%;
        justify-content: center;
        margin-top: 8px;
      }

    }
